#사내프로젝트-챗봇 플랫폼 구현
- 개발자들이 pip install hiworker 명령어로 파이썬 소스를 다운받아 API key만 등록하면 메신져에 챗봇을 직접 만들 수 있다! 아, 이 어찌나 간결하고 좋은가..
- 이 회고는 위의 문장을 기준으로 만들어 보게된 챗봇 플랫폼 구현에 대한 회고록이다.
- 개발 회고를 이렇게 열심히 쓰는건 처음이라 뭘 어찌해야할지 모르겠다..ㅎ

### 개발 배경
- 슬랙봇 API와 같은 커스터마이징 가능한 챗봇을 파이썬 스크립트형태로 사용자들에게 제공하자.
- 사내 메신져 사용하면서 특정 메세지(/예약 회의실 10:00~11:00)만으로 회의실 예약을 하고 싶었다.
- 그외 부가적으로 여러 부서마다 각자 제공하는 API들을 통합했으면 싶기도해서 "다른 개발자들이 챗봇을 만들수 있게 만들자!"를 구상하게 됐다.

### 결과물
[GIF사진 들어갈 자리]()

### 개발회고
#### 서버개발
1. 서버 구조 설계
- 오랜만에 하는 서버 개발이라 너무 신나 이것저것 찾아보고 고민하며 전체 시스템 구조를 어떻게 잡아야할까 고민을 많이했다.
- 이것 저것 고민하게 된 결과물의 사진은 아래와 같다.
[최초 구상했던 전체 구조]() 
- 생각보다 심플한 구성으로 시스템 설계가 이루어질 것 같았다.
- 결국 HTTP(S)만으로 각각의 트랜잭션들을 처리하게 된다.
- 이렇게 생각했던 이유는, 챗봇 스크립트를 flask 베이스로 제공하고 다른 개발자들에게 친숙한 HTTP통신을 제공 함으로써 각 프로토콜을 통일화하고 싶었다.

2. 사실 이렇게하면 안 되는데..
- 근데 이렇게하면 큰 문제점이 두 가지 생긴다.
    1. 이와같은 방식이면 모든 챗봇들이 공인 IP를 갖고 있어야한다.
	2. http는 tcp 베이스이긴하지만 request / response 모델을 택하고있어 현재 접속중인 chatbot을 구분하기 어렵다.

3. 이렇게 서버 구조가 바뀌었으면 어땠을까
- 아니 이렇게 바뀌어야만한다. 하지만 당장의 시연이 중요했고 우선 중계서버와 챗봇 스크립트를 
[변경해야할 서버 구조]() 

3. API Key 서버
- 요새 NoSQL DB에 관심이 많아 Mongo DB로 사용했고 역시나 별다른 테이블 설계에 쏟는 시간을 많이 줄일 수 있어 좋았다.
- 근데 이상하게 커넥션-데이터수집이 느리더라
- 매요청마다 커넥션을 맺게 되면 매요청마다 느릴 것 같아 Memory에 데이터를 Load하고 메모리를 가져가도록 설계했다.

4. 중계 서버
- 사실 API Key 서버와 별도로 분리했어야하는데, 시간관계상 API Key 서버와 통일하여 개발했다.
- 얘는 각 챗봇들을 Group화 하여 특정 회사별로 제공하는 챗봇 리스트들을 따로 관리하게 하고자하는 서버다.
- 어떤 챗봇이 어떤 회사에 속한 챗봇인지 알려주고 또 그 챗봇이랑 클라이언트랑 중간다리 형태로 통신하게하는 서버다.

3. HTTPS와 암호화
- 보안적 이슈들의 고려 없이 개발을 했으나, 프로젝트 초기에는 SHA-256 암호화와 OpenSSL 인증서를 도입하여 개발할 목적이었다.
- 시간이 조금 더 있었더라면 이라는 핑계로 적용해보지 못한것이 엄청난 한이다.

#### 챗봇 스크립트 오픈소스 개발
1. 오픈소스라하기도 민망한
- 챗봇 스크립트는 pypi에 등록하여 오픈소스 배포를 했다.
- 처음해보는 파이썬 오픈소스 배포였고 생각보다 오픈소스 배포 기반이 잘 마련되어있어 놀랐다.

2. 역시 네이밍이..
- 네이밍에대한 깊은 고민을 하지못했다.
- 심플하게 Command와 Token으로만 구분하였고 나름의 정책을 세웠으나 (실제 소스에는 뭔가 이상한 이름으로 들어가있다.)

#### 클라이언트개발
1. WPF 개발하기
- WPF개발을 이번 프로젝트 하면서 조금이나마 알게된거같다. 
- WPF App의 생명주기,각 화면의 좌표체계, 왜 OS이름이 Windows고 왜 각각을 Window라고 칭하는지

2. 프론트엔드 개발자
- 운명에도 없던 프론트엔드 개발을..

2. Style 파일 관리
3. Behind code와 MVVM

#### 협업
1. 기획자와의 협업
2. 디자이너와의 협업
